<!DOCTYPE html>
<html lang="en" x-data="{
    pageTitle: 'Portfolio',
    breadCrumbs: []
}">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title x-text="pageTitle"></title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/default.min.css">
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/highlight.min.js"></script>
    <script>hljs.highlightAll();</script> -->

    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/custom.css">

</head>

<body id="body">

    <div class="dimmed-overlay" id="overlay"></div>

    <div id="root">
        <!-- <nav id="main-nav" class="sidebar">
            <a onclick="route()" href="/">Home</a>
            <a onclick="route()" href="/about">About</a>
            <a onclick="route()" href="/projects">Projects</a>
            <a onclick="route()" href="/contact">Contact</a>
            
        </nav> -->
        <!-- <div class="sidebar">
            <button id="theme-toggle">Toggle Theme</button>
            <div><a onclick=" route()" href="/">Home</a></div>
            <div><a onclick=" route()" href="/">About</a></div>
            <div><a onclick=" route()" href="/">Projects</a></div>
            <div><a onclick=" route()" href="/">Contact</a></div>
            </nav>
        </div>
        <div class="sidebar-toggle" id="sidebar-toggle">☰</div> -->
        <div id="sidebar" class="navbar collapsed">
            <ul class="nav flex-column mt-3 elevated-shadow" x-data="{openProjects: false}">
                <li class="nav-item elevated">
                    <a class="nav-link d-flex btn btn-nav" onclick="route(event)" href="#/">Home</a>
                </li>
                <li class="nav-item elevated">
                    <a class="nav-link d-flex btn btn-nav" onclick="route(event)" href="#/about">About</a>
                </li>
                <li class="nav-item elevated">
                    <a class="nav-link d-flex align-items-center btn btn-nav" @click="openProjects = !openProjects"
                        onclick="{}" style="gap: 0.5rem;">Projects

                        <i :class="{'bi': true, 'bi-chevron-down': !openProjects, 'bi-chevron-up': openProjects}"
                            style="font-size: inherit; display: inline-block; vertical-align: middle;"></i>
                    </a>
                </li>
                <li x-show="openProjects" class="ps-3 nav-item elevated">
                    <a class="nav-link d-flex btn btn-nav" onclick="route(event)" href="#/projects/example">Example</a>

                </li>
                <li x-show="openProjects" class="ps-3 nav-item elevated">
                    <a class="nav-link d-flex btn btn-nav" onclick="route(event)" href="#/projects/overview">Overview</a>

                </li>
                <li class="nav-item elevated">
                    <a class="nav-link d-flex btn btn-nav" onclick="route(event)" href="#/contact">Contact</a>
                </li>
                <li class="nav-item elevated">
                    <a class="nav-link d-flex btn btn-nav" onclick="route(event)" href="#/ananas">404</a>
                </li>
            </ul>
            <div id="toggle-sidebar">
                <div class="icon">
                    <i class="bi bi-chevron-left"></i>
                </div>
            </div>
        </div>

        <div id="main-content">
            <div class="topbar">
                <nav class="d-flex w-100 align-items-center justify-content-between">
                    <!-- <div x-html="window.breadCrumbs()"> -->
                    <div>
                        <template x-for="(crumb, index) in breadCrumbs" :key="index">
                            <span>
                                <template x-if="index > 0">
                                    
                                    <span> / </span>
                                </template>
                                <a 
                                    :href="crumb.path" 
                                    @click="route()" 
                                    x-text="crumb.name">
                                </a>
                            </span>
                        </template>
                        
                    </div>
                   
                    <div x-data="{darkMode: localStorage.getItem('theme') === 'dark'}"
                        class="d-flex align-items-center">
                        <input type="text" class="form-control me-2" placeholder="Search">
                        <i class="bi bi-gear me-3"></i>
                        <i id="theme-toggle" style="cursor: pointer;"
                            :class="{ 'bi': true, 'bi-sun': darkMode, 'bi-moon': !darkMode }"></i>
                    </div>
                </nav>
            </div>

            <div id="app">



            </div>


            <!-- <div id="footer-container" class="card w-100" style="height: 50px;">
                <div class="btn btn-secondary">
                    © - DevNest - Alfred Narjes - Wien
                </div>
            </div> -->
            <footer x-data="{ 
                screenWidth: window.innerWidth,
                init() {
                  // Aktualisiere screenWidth, sobald das Browserfenster geändert wird
                  window.addEventListener('resize', () => {
                    this.screenWidth = window.innerWidth;
                  });
                }
             }" x-init="init()" class="card w-100" :style="{'padding-top': (screenWidth <= 910) ? '0px' : '10px'}">
                <!-- style="position: relative; background: var(--navbar-bg); color: var(--text); height: 100px; display: flex; flex-direction: column; justify-content: space-between; padding: 10px;" -->

                <div class="d-flex justify-content-between align-items-center">
                    <!-- Social Media Icons -->
                    <div class="ms-3 ">
                        <a href="https://twitter.com" target="_blank" class="me-3"
                            style="text-decoration: none; color: var(--icon-color);">
                            <i style="font-size: 1rem;" class="bi bi-linkedin"></i>
                        </a>
                        <a href="https://github.com" target="_blank" class="me-3"
                            style="text-decoration: none; color: var(--icon-color);">
                            <i style="font-size: 1rem;" class="bi bi-github"></i>
                        </a>
                        <a href="https://gitlab.com" target="_blank" class="me-3"
                            style="text-decoration: none; color: var(--icon-color);">
                            <i style="font-size: 1rem;" class="bi bi-gitlab"></i>
                        </a>
                    </div>

                    <!-- Centered Text -->
                    <div x-data="{year: new Date().getFullYear()}" class="text-center"
                        style="flex: 1; font-size: 14px;">
                        <span x-text="year" id="currentYear"></span> - Alfred Narjes - Wien
                    </div>

                    <!-- Empty div for spacing -->
                    <div></div>
                </div>

                <!-- Bottom Right Love Leiste -->
                <div style="position: absolute; bottom: 5px; right: 10px; font-size: 12px; color: var(--text);"
                    :style="{'bottom': (screenWidth <= 910) ? '0px' : '5px'}">
                    Made with ❤️, Vanilla JS & a teaspoon full of Alpine.js
                </div>
            </footer>

        </div>
    </div>

    <script src="/js/router.js"></script>
    <script src="/js/sidebar.js"></script>
    <script src="/js/theme.js"></script>

    <script>
        // Initialize
        document.addEventListener('DOMContentLoaded', function () {
            //? Popovers
            var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]'));
            var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
                return new bootstrap.Popover(popoverTriggerEl);
            });
            /*});
    
            document.addEventListener('DOMContentLoaded', function () {*/

            //? Sidebar
            const sidebarToggle = document.getElementById('toggle-sidebar');
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('overlay');
            // const navElements = document.getElementsByClassName('nav-link');

            sidebarToggle.addEventListener('click', function () {
                sidebar.classList.toggle('collapsed');
                overlay.classList.toggle('visible');
                // Array.from(navElements).forEach(element => {
                //     element.classList.toggle('display-none')
                // });

                const icon = sidebarToggle.querySelector('.icon i');
                if (sidebar.classList.contains('collapsed')) {
                    icon.classList.remove('bi-chevron-left');
                    icon.classList.add('bi-chevron-right');
                } else {
                    icon.classList.remove('bi-chevron-right');
                    icon.classList.add('bi-chevron-left');
                }
            });

            overlay.addEventListener('click', function () {
                sidebar.classList.add('collapsed');
                overlay.classList.remove('visible');

                const icon = sidebarToggle.querySelector('.icon i');
                icon.classList.remove('bi-chevron-left');
                icon.classList.add('bi-chevron-right');
            });

            //? Cookies


        });

    </script>


    <script src="//unpkg.com/alpinejs" defer></script>

</body>

</html>