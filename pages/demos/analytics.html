<section x-data="{ 
    pageLang: {},
    async init() {

    breadCrumbs = getBreadCrumbsArray();
    

    const lang = localStorage.getItem('appLang') || 'en';
    const fileName = breadCrumbs[breadCrumbs.length - 1].name.toLowerCase();
// console.log(breadCrumbs[breadCrumbs.length - 1].name.toLowerCase());

    const response = await fetch('/lang/' + fileName + '/' + lang + '.json');
    this.pageLang = await response.json();
    document.title = breadCrumbs[breadCrumbs.length - 1].name || 'Portfolio';

    }
 }" x-init="init()">

    <div class="container pt-5">
        <h1 class="text-center mb-3" class="">Dashboard</h1>
        <div class="card mb-2" x-data="{
        testData: {},
        async submitTest() {
            gtag('event', 'test_click', {
                'event_category': 'Test',
                'event_label': 'Test-Button-Klick'
            });
            console.log('Test-Event wurde ausgelöst.');
        }
    }">
            <a class="btn" @click="submitTest()">
                Send Test event
                <i class="bi bi-grad bi-bar-chart-fill"></i>
            </a>
        </div>


        <!-- Container für den allgemeinen Report (z. B. Seitenaufrufe über die Zeit) -->
        <div class="card">
            <canvas id="generalChart"></canvas>
        </div>

        <!-- Container für die Länder-Aufschlüsselung (Engagierte Sitzungen) -->
        <div class="card my-3">
            <canvas id="testEventChart"></canvas>
        </div>

        <!-- Container für die Länder-Aufschlüsselung (Engagierte Sitzungen) -->
        <div class="card my-3">
            <mod-spinner flare-spinner-gradient="#667eea, #764ba2, #6b8dd6, #8e37d7"></mod-spinner>
            <canvas id="countryChart"></canvas>
        </div>

        <!-- Container für die Gerätetyp-Aufschlüsselung (Engagierte Sitzungen) -->
        <div class="card">
            <canvas id="deviceChart"></canvas>
        </div>

    </div>
</section>

<script>

    console.log('INLINE: analytics page');


</script>