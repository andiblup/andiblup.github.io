<section x-data="{ 
    pageLang: {},
    overviewPageLang: {},
    async init() {

    breadCrumbs = getBreadCrumbsArray();
    
    if (typeof initIconCarousel === 'function') {
         initIconCarousel();
      }

    const lang = localStorage.getItem('appLang') || 'en';
    const fileName = breadCrumbs[breadCrumbs.length - 1].name.toLowerCase();
// console.log(breadCrumbs[breadCrumbs.length - 1].name.toLowerCase());

    const response = await fetch('/lang/' + fileName + '/' + lang + '.json');
    this.pageLang = await response.json();
    this.overviewPageLang = await fetch('/lang/overview/' + lang + '.json').then(response => response.json());
    document.title = breadCrumbs[breadCrumbs.length - 1].name || 'Portfolio';

    }
 }" x-init="init()">

    <div class="container pt-5">
        <h1 class="text-center mb-3" x-text="pageLang.header"></h1>
        <p class="text-center mb-4" x-text="pageLang.tagline"></p>
        <div class="container pb-5">

            <h1 class="text-center mb-4 mt-5" x-text="overviewPageLang.header"></h1>
            <p class="text-center mb-2" x-text="overviewPageLang.description"></p>


            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
                <!-- Portfolio Card -->
                <div class="col elevated">
                    <a onclick="route(event)" href="/#/projects/portfolio">
                        <div class="card h-100 shadow border" style="border-radius: 25px; overflow: hidden;">
                            <div class="card-img-top position-relative" style="height: 150px; overflow: hidden;">
                                <img src="/assets/img/portfolio.png" alt=""
                                    style="width: 100%; object-fit: cover; height: 100%; border-top-left-radius: 25px; border-top-right-radius: 25px;">

                            </div>
                            <div class="card-body">
                                <h2 class="card-title" x-text="overviewPageLang.projects.portfolio.title"></h2>
                                <p class="card-text" x-text="overviewPageLang.projects.portfolio.description"></p>
                            </div>
                        </div>
                    </a>
                </div>


                <!-- Bad UI Card -->
                <div class="col elevated">
                    <a onclick="route(event)" href="/#/projects/badui">
                        <div class="card h-100 shadow border" style="border-radius: 25px; overflow: hidden;">
                            <div class="card-img-top position-relative" style="height: 150px; overflow: hidden;">
                                <img src="/assets/img/dino.png" alt=""
                                    style="width: 100%; object-fit: cover; height: 100%; border-top-left-radius: 25px; border-top-right-radius: 25px;">

                            </div>
                            <div class="card-body">
                                <h2 class="card-title" x-text="overviewPageLang.projects.badui.title"></h2>
                                <p class="card-text" x-text="overviewPageLang.projects.badui.description"></p>
                            </div>
                        </div>
                    </a>
                </div>

                <!-- Do Gether Card -->
                <div class="col elevated">
                    <a onclick="route(event)" href="/#/projects/doGether">
                        <div class="card h-100 shadow border" style="border-radius: 25px; overflow: hidden;">
                            <div class="card-img-top position-relative" style="height: 150px; overflow: hidden;">
                                <img src="/assets/img/doGether/post3.png" alt=""
                                    style="width: 100%; object-fit: cover; height: 100%; border-top-left-radius: 25px; border-top-right-radius: 25px;">

                            </div>
                            <div class="card-body">
                                <h2 class="card-title" x-text="overviewPageLang.projects.doGether.title"></h2>
                                <p class="card-text" x-text="overviewPageLang.projects.doGether.description"></p>
                            </div>
                        </div>
                    </a>
                </div>

                <!-- Fantasy Quest Card -->
                <div class="col elevated">
                    <a onclick="route(event)" href="/#/projects/fantasyQuest">
                        <div class="card h-100 shadow border" style="border-radius: 25px; overflow: hidden;">
                            <div class="card-img-top position-relative" style="height: 150px; overflow: hidden;">
                                <img src="/assets/img/fantasyQuest.png" alt=""
                                    style="width: 100%; object-fit: cover; height: 100%; border-top-left-radius: 25px; border-top-right-radius: 25px;">

                            </div>
                            <div class="card-body">
                                <h2 class="card-title" x-text="overviewPageLang.projects.fantasyQuest.title"></h2>
                                <p class="card-text" x-text="overviewPageLang.projects.fantasyQuest.description"></p>
                            </div>
                        </div>
                    </a>
                </div>

                <!-- PMA Card -->
                <div class="col elevated">
                    <a onclick="route(event)" href="/#/projects/pma">
                        <div class="card h-100 shadow border" style="border-radius: 25px; overflow: hidden;">
                            <div class="card-img-top position-relative" style="height: 150px; overflow: hidden;">
                                <img src="/assets/img/pma.png" alt=""
                                    style="width: 100%; object-fit: cover; height: 100%; border-top-left-radius: 25px; border-top-right-radius: 25px;">

                            </div>
                            <div class="card-body">
                                <h2 class="card-title" x-text="overviewPageLang.projects.pma.title"></h2>
                                <p class="card-text" x-text="overviewPageLang.projects.pma.description"></p>
                            </div>
                        </div>
                    </a>
                </div>

                <!-- Meet Note Card -->
                <div class="col elevated">
                    <a onclick="route(event)" href="/#/projects/meet_note">
                        <div class="card h-100 shadow border" style="border-radius: 25px; overflow: hidden;">
                            <div class="card-img-top position-relative" style="height: 150px; overflow: hidden;">
                                <img src="/assets/img/meet_note.png" alt=""
                                    style="width: 100%; object-fit: cover; height: 100%; border-top-left-radius: 25px; border-top-right-radius: 25px;">
    
                            </div>
                            <div class="card-body">
                                <h2 class="card-title" x-text="overviewPageLang.projects.meet_note.title"></h2>
                                <p class="card-text" x-text="overviewPageLang.projects.meet_note.description"></p>
                            </div>
                        </div>
                    </a>
                </div>
            </div>

        </div>
    </div>



    <div class="d-flex justify-content-center text-center pt-3">
        <h1 class="">Techstack</h1>
    </div>
    <div :class="{'card-icons-top': colorize}" id="iconCarousel" data-icon-list="home"></div>


    <div class="container pt-5">
        <div class="row justify-content-center">


            <!-- <p class="text-center mb-4" x-text="pageLang.tagline"></p> -->

            <div class="col-12 col-md-10 col-lg-8 col-xl-6">

                <div class="card p-2" style="border-radius: 12px;">
                    <div id="carouselExampleIndicators" class="carousel slide carousel-fade">
                        <div class="carousel-indicators">
                            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0"
                                class="active" aria-current="true" aria-label="Slide 1"></button>
                            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1"
                                aria-label="Slide 2"></button>
                            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2"
                                aria-label="Slide 3"></button>
                            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="3"
                                aria-label="Slide 4"></button>
                            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="4"
                                aria-label="Slide 5"></button>
                            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="5"
                                aria-label="Slide 6"></button>
                            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="6"
                                aria-label="Slide 7"></button>
                            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="7"
                                aria-label="Slide 8"></button>
                            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="8"
                                aria-label="Slide 9"></button>
                        </div>
                        <div class="carousel-inner" x-data="{
                            isFirst: true,
                            images: [
                                '/assets/img/pictures/sp.png',
                                '/assets/img/pictures/1.jpg',
                                '/assets/img/pictures/0.jpg',
                                '/assets/img/pictures/2.jpg',
                                '/assets/img/pictures/3.jpg',
                                '/assets/img/pictures/4.jpg',
                                '/assets/img/pictures/5.jpg',
                                '/assets/img/pictures/6.png',
                                '/assets/img/pictures/7.jpg',

                            ],
                        }">
                            <template x-for="(image, index) in images" :key="index">
                                <div :class="index === 0 ? 'carousel-item active' : 'carousel-item'">
                                    <img style="border-radius: 12px;" :src="image" class="d-block w-100" loading="lazy"
                                        alt="Slide">
                                </div>
                            </template>
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators"
                            data-bs-slide="prev">
                            <span class="carousel-control-prev-icon"
                                style="background-color: rgba(0, 0, 0, 0.4); border-radius: 50%;"
                                aria-hidden="true"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators"
                            data-bs-slide="next">
                            <span class="carousel-control-next-icon"
                                style="background-color: rgba(0, 0, 0, 0.4); border-radius: 50%;"
                                aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                            <!-- <div class="d-flex jusify-content-center align-items-center" style="width: 2.5rem; height: 2.5rem; border-radius: 50%; background-color: rgba(200, 200, 200, 0.9);">
                                <span class="carousel-control-next-icon bi bi-chevron-right bi-grad" aria-hidden="true"></span>
                            </div> -->
                        </button>
                    </div>
                    <div class="card-body">
                        <h5 class="card-title" x-text="pageLang.title"></h5>
                        <p class="card-text" x-text="pageLang.description"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>



    <div class="my-5"></div>
    <div class="my-5"></div>

    <!-- <a href="/assets/cv.pdf" target="_blank" class="btn">
        View CV PDF
    </a>

    <div x-data="{ 
        showEmbed: false,
        screenSize: window.innerWidth,
        isMobileDevice() {
            return /Mobi|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i
                .test(navigator.userAgent);
        },
        init() {
            console.log(this.isMobileDevice());
            
            this.showEmbed = !this.isMobileDevice();

            window.addEventListener('resize', () => {
            this.screenSize = window.innerWidth;
            });
        }
    }">
        <template x-if="showEmbed && screenSize >= 990">
            <div class="row justify-content-center">
                <div class="col-12 col-xs-12 col-sm-10 col-md-8 col-lg-7 col-xl-6 col-xxl-5">
                    <div style="height: 80vh; width: 100%; overflow: auto; margin: 0 auto;">
                        <embed src="assets/cv.pdf" style="display: block; width: 100%; height: 100%;" />
                    </div>
                </div>
            </div>
        </template>
            <div>
                <a href="/assets/cv.pdf" target="_blank" class="btn">
                    View CV PDF
                </a>
            </div>
    </div> -->
<!-- <div class="card my-2"></div> -->

</section>